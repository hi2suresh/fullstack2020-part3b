(this.webpackJsonptest2=this.webpackJsonptest2||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),u=t.n(o),c=t(3),l=t.n(c),i=t(2),m=function(e){var n=e.onHandleAdd,t=e.onNameChange,a=e.onNumberChange,o=e.newName,u=e.newNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:t,value:o})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{onChange:a,value:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s="api/persons",d=function(){return l.a.get(s).then((function(e){return e.data}))},f=function(e){return l.a.post(s,e).then((function(e){return e.data}))},h=function(e){return l.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},b=function(e){var n=e.showThesePersons,t=e.setPersons;return r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("p",{key:e.name},e.name," ",e.number,r.a.createElement("button",{key:e.id,onClick:function(){return n=e.id,a=e.name,console.log(n),void(window.confirm("Do you really want to delete ".concat(a,"?"))&&h(n).then((function(e){console.log(e),d().then((function(e){t(e)}))})));var n,a},id:e.id},"delete")," ")})))},v=function(e){var n=e.onFilterChange,t=e.filterValue;return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{onChange:n,value:t}))},E=function(e){var n=e.message;return 0===n.length?null:r.a.createElement("div",{className:n.toLowerCase().includes("add")?"note":"error"},n)},g=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1];Object(a.useEffect)((function(){d().then((function(e){o(e)}))}),[]);var u=Object(a.useState)(!0),c=Object(i.a)(u,2),l=c[0],s=c[1],h=Object(a.useState)(""),g=Object(i.a)(h,2),w=g[0],p=g[1],j=Object(a.useState)(""),C=Object(i.a)(j,2),O=C[0],N=C[1],y=Object(a.useState)(""),S=Object(i.a)(y,2),k=S[0],P=S[1],A=Object(a.useState)(""),T=Object(i.a)(A,2),F=T[0],L=T[1],D=l?t:t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(E,{message:O}),r.a.createElement(v,{onFilterChange:function(e){p(e.target.value),s(!1)},filterValue:w}),r.a.createElement("h2",null,"Add a new Name and Number"),r.a.createElement(m,{onHandleAdd:function(e){e.preventDefault();var n=t.find((function(e){return e.name===k}));if(n)"error",N("Information of '".concat(n.name,"' has already been added to server")),setTimeout((function(){N(""),"note"}),4e3);else{var a={name:k,number:F};f(a).then((function(e){console.log(e),o(t.concat(a)),N("Added ".concat(a.name)),setTimeout((function(){N("")}),3e3)}))}P(""),L(""),s(!0)},onNameChange:function(e){P(e.target.value)},onNumberChange:function(e){return L(e.target.value)},newName:k,newNumber:F}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(b,{showThesePersons:D,setPersons:o}))};t(36);u.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.08a82af7.chunk.js.map